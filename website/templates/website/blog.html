{% extends 'website/base.html' %}
{% load static %}

{% block content %}
 

 <!-- Start of Banner Section -->
 <div class="banner-container page">
  <!-- Start of Banner Text -->
  <div class="banner-text">
    <h1>
      Web Development Services <br> That Drives Leads & Sales

    </h1>
    <p>
      We design high-performing websites for brands looking to grow. Strategy, design, development, and marketing â€“ you get everything you need to grow.


    </p>
    <div class="work-with">
      <a href="">Work with us</a>
    </div>
  </div>
  <!-- End of Banner Text -->

  <!-- Start of Banner Image -->
  <div class="banner-img">
    
    <img src="{% static 'img/blog.jpg' %}" alt="Slide" />     

  </div>
  <!-- End of Banner Image -->
</div>
<!-- End of Banner Section -->

    <!-- blog page -->
    <div class="our-blog-container padding">
      <h2>Our Blog</h2>
      <div class="blog-container">
        {% for blog in blogs %}
        <a  href="{% url 'blog_detail' blog.slug %}">
          <div class="blog ">
          
            <img src="{{ blog.image.url }}" alt="Slide" />     

            <div class="writer">
              <!-- writter image -->
              <img src="{{ blog.profile_image.url }}" alt="" />
              <!-- writter name -->
              <p>{{ blog.author }}</p>
            </div>
            <div class="blog-heading">
              <h4>
                {{ blog.title }}
              </h4>
              <p id="text-element">
                {{ blog.article }}
              </p>
            </div>
            <div class="news">
            <p>read more</p>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>
    </div>



<script>
  function truncateText(selector, maxLength) {
    const element = document.querySelector(selector);
    const text = element.textContent;
    if (text.length > maxLength) {
      element.textContent = text.slice(0, maxLength) + '...';
    }
  }
  truncateText('#text-element', 120); // Truncate text to 120 charactors
</script>



    <script>
   

      function handleAnimationScroll() {
        // This block of code handles the reveal animation for elemenss on scroll
        window.addEventListener("scroll", () => {
          const targets = document.querySelectorAll(".");

          targets.forEach(() => {
            const position = elemens.getBoundingClientRect();
            const threshold = window.innerHeight * 0.9;

            // If the elemens's position is within the threshold, reveal it and trigger animation
            if (position.top <= threshold) {
              elemens.classList.add("slides");
            }
          });
        });
      }
      handleAnimationScroll();
    </script>
 {% endblock %}
